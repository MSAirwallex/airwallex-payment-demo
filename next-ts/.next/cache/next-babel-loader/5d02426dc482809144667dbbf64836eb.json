{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/josie.ku/awx/airwallex-payment-demo/next-ts/pages/dropin/index.tsx\";\nimport { createElement, loadAirwallex } from 'airwallex-payment-elements';\nvar intent_id = 'int_3l3nkfuMzVUBtVcgzAekaYsGYa';\nvar client_secret = 'eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MDkzODQ1MDEsImV4cCI6MTYwOTM4ODEwMSwiYWNjb3VudF9pZCI6IjZkMzljOGU3LWQyY2EtNGQ0Yy04N2I5LWIzY2Y3MzNkNTU2ZSIsImRhdGFfY2VudGVyX3JlZ2lvbiI6IlVLIiwiaW50ZW50X2lkIjoiaW50XzNsM25rZnVNelZVQnRWY2d6QWVrYVlzR1lhIn0.UJ7OAvJ7hVCiMaZgCQW-GjPeIx-NAjp5ZOQotsG-JSc';\nvar ELEMENT_TYPE = 'dropIn';\nexport function getStatProps() {\n  return _getStatProps.apply(this, arguments);\n}\n\nfunction _getStatProps() {\n  _getStatProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _createElement;\n\n    var onSuccess;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('getting props');\n            _context.next = 3;\n            return loadAirwallex({\n              env: 'staging'\n            });\n\n          case 3:\n            _context.next = 5;\n            return (_createElement = createElement(ELEMENT_TYPE, {\n              intent: {\n                id: intent_id,\n                client_secret: client_secret\n              }\n            })) === null || _createElement === void 0 ? void 0 : _createElement.mount(ELEMENT_TYPE);\n\n          case 5:\n            onSuccess = function onSuccess(event) {\n              /*\n                ... Handle event\n              */\n              console.log(\"Confirm success with \".concat(JSON.stringify(event.detail)));\n            };\n\n            window.addEventListener('onSuccess', onSuccess);\n            return _context.abrupt(\"return\", function () {\n              window.removeEventListener('onSuccess', onSuccess);\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getStatProps.apply(this, arguments);\n}\n\nfunction dropin() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"DropIn Integration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: ELEMENT_TYPE\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\nexport default dropin;","map":{"version":3,"sources":["/Users/josie.ku/awx/airwallex-payment-demo/next-ts/pages/dropin/index.tsx"],"names":["createElement","loadAirwallex","intent_id","client_secret","ELEMENT_TYPE","getStatProps","console","log","env","intent","id","mount","onSuccess","event","JSON","stringify","detail","window","addEventListener","removeEventListener","dropin"],"mappings":";;;;AAAA,SACEA,aADF,EAEEC,aAFF,QAIO,4BAJP;AAMA,IAAMC,SAAS,GAAG,gCAAlB;AACA,IAAMC,aAAa,GAAG,sRAAtB;AACA,IAAMC,YAAyB,GAAG,QAAlC;AAEA,gBAAsBC,YAAtB;AAAA;AAAA;;;2EAAO;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,YAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AADK;AAAA,mBAECN,aAAa,CAAC;AAClBO,cAAAA,GAAG,EAAE;AADa,aAAD,CAFd;;AAAA;AAAA;AAAA,qCAKCR,aAAa,CAACI,YAAD,EAAe;AAChCK,cAAAA,MAAM,EAAE;AACNC,gBAAAA,EAAE,EAAER,SADE;AAENC,gBAAAA,aAAa,EAAEA;AAFT;AADwB,aAAf,CALd,mDAKC,eAKFQ,KALE,CAKIP,YALJ,CALD;;AAAA;AAYCQ,YAAAA,SAZD,GAYa,SAAZA,SAAY,CAACC,KAAD,EAAwB;AACxC;AACJ;AACA;AACIP,cAAAA,OAAO,CAACC,GAAR,gCAAoCO,IAAI,CAACC,SAAL,CAAeF,KAAK,CAACG,MAArB,CAApC;AACD,aAjBI;;AAmBLC,YAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqCN,SAArC;AAnBK,6CAoBE,YAAM;AACXK,cAAAA,MAAM,CAACE,mBAAP,CAA2B,WAA3B,EAAwCP,SAAxC;AACD,aAtBI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AA6BP,SAASQ,MAAT,GAAkB;AAChB,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,EAAE,EAAEhB;AAAT;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD;;AAED,eAAegB,MAAf","sourcesContent":["import {\n  createElement,\n  loadAirwallex,\n  ElementType\n} from 'airwallex-payment-elements';\n\nconst intent_id = 'int_3l3nkfuMzVUBtVcgzAekaYsGYa';\nconst client_secret = 'eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MDkzODQ1MDEsImV4cCI6MTYwOTM4ODEwMSwiYWNjb3VudF9pZCI6IjZkMzljOGU3LWQyY2EtNGQ0Yy04N2I5LWIzY2Y3MzNkNTU2ZSIsImRhdGFfY2VudGVyX3JlZ2lvbiI6IlVLIiwiaW50ZW50X2lkIjoiaW50XzNsM25rZnVNelZVQnRWY2d6QWVrYVlzR1lhIn0.UJ7OAvJ7hVCiMaZgCQW-GjPeIx-NAjp5ZOQotsG-JSc';\nconst ELEMENT_TYPE: ElementType = 'dropIn';\n\nexport async function getStatProps() {\n  console.log('getting props');\n  await loadAirwallex({\n    env: 'staging'\n  })\n  await createElement(ELEMENT_TYPE, {\n    intent: {\n      id: intent_id,\n      client_secret: client_secret\n    }\n  })?.mount(ELEMENT_TYPE);\n\n  const onSuccess = (event: CustomEvent) => {\n    /*\n      ... Handle event\n    */\n    console.log(`Confirm success with ${JSON.stringify(event.detail)}`);\n  };\n\n  window.addEventListener('onSuccess', onSuccess as EventListener);\n  return () => {\n    window.removeEventListener('onSuccess', onSuccess as EventListener);\n  };\n\n  return {\n    props: {}\n  }\n}\n\nfunction dropin() {\n  return (\n    <div>\n      <h2>DropIn Integration</h2>\n      <div id={ELEMENT_TYPE}></div>\n    </div>\n  )\n}\n\nexport default dropin;"]},"metadata":{},"sourceType":"module"}